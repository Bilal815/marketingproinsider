<!doctype html><html lang=en><meta charset=UTF-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>File Editor</title><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/trumbowyg@2.25.0/dist/ui/trumbowyg.min.css rel=stylesheet><body class=bg-light><div class="container py-5"><h1 class="text-center mb-4">Edit File</h1><div class="card p-4 shadow"><form id=fileForm><h3>Metadata</h3><div class=mb-3><label class=form-label for=title>Title</label><input class=form-control id=title></div><div class=mb-3><label class=form-label for=description>Description</label><textarea class=form-control id=description rows=2></textarea></div><div class=mb-3><label class=form-label for=slug>Slug</label><input class=form-control id=slug></div><div class=mb-3><label class=form-label for=thumbnail>Thumbnail</label><input class=form-control id=thumbnail></div><div class=mb-3><label class=form-label for=author>Author</label><input class=form-control id=author></div><div class=mb-3><label class=form-label for=resume>Resume</label><textarea class=form-control id=resume rows=2></textarea></div><div class=mb-3><label class=form-label for=category>Category</label><input class=form-control id=category></div><div class=mb-3><label class=form-label for=tags>Tags</label><textarea class=form-control id=tags rows=2></textarea></div><div class=mb-3><label class=form-label for=date>Date</label><input class=form-control id=date type=date></div><div class=mb-3><label class=form-label for=alt>Alt Text</label><input class=form-control id=alt></div><div class=mb-3><label class=form-label for=status>Status</label><select class=form-control id=status><option value=draft>Draft<option value=published>Published</select></div><h3>Contributor Info</h3><div class=mb-3><label class=form-label for=contributorName>Contributor Name</label><input class=form-control id=contributorName></div><div class=mb-3><label class=form-label for=contributorEmail>Contributor Email</label><input class=form-control id=contributorEmail type=email></div><div class=mb-3><label class=form-label for=contributorMessage>Contributor Message</label><textarea class=form-control id=contributorMessage rows=2></textarea></div><div class=mb-3><label class=form-label for=content>Content</label><textarea id=content></textarea></div><button class="btn btn-success w-100">Save Changes</button></form></div><button class="btn btn-primary mt-4" id=backButton onclick=history.back()>Back to Repo</button></div><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/trumbowyg@2.25.0/dist/trumbowyg.min.js></script><script src=https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js></script><script type=module>let o=0,k=`#content`,p=`html`,n=`:`,l=`\\n`,m=``;var j=(async(a)=>{a.preventDefault();try{const a=Array.from(document.querySelectorAll(`form input, form textarea`)).filter(a=>a.id!==`content`).map(a=>`${a.id.charAt(o).toUpperCase()+ a.id.slice(1)}: ${a.value}`).join(l);const e=$(k).trumbowyg(p);const g=document.getElementById(`contributorName`).value;const h=document.getElementById(`contributorEmail`).value;const i=document.getElementById(`contributorMessage`).value;const j=`${a}\n\nContributor Name: ${g}\nContributor Email: ${h}\nContributor Message: ${i}\n\n${e}`;const m=unescape(encodeURIComponent(j));const n=btoa(m);await f.request(`PUT /repos/{owner}/{repo}/contents/{path}`,{owner:b,repo:c,path:d,message:`Update file content with contributor info`,committer:{name:g,email:h},content:n});alert(`File saved successfully!`)}catch(a){console.error(a);alert(`Failed to save file.`)}});var i=(async()=>{try{const a=await f.request(`GET /repos/{owner}/{repo}/contents/{path}`,{owner:b,repo:c,path:d});const e=decodeURIComponent(escape(atob(a.data.content)));const {fields:i,content:j}=h(e);Object.keys(i).forEach(a=>{const b=document.getElementById(a.toLowerCase());if(b)b.value=i[a]});const l=g.makeHtml(j);$(k).trumbowyg(p,l)}catch(a){console.error(a);alert(`Failed to fetch file content.`)}});var h=(a=>{const b={};const c=a.split(l);let d=!1;let e=m;c.forEach(a=>{if(a.trim()===m)return;const [c,...f]=a.split(n);if(f.length>o&&!d){b[c.trim()]=f.join(n).trim()}else{d=!0;e+=`${a}\n`}});return {fields:b,content:e.trim()}});import{Octokit as a}from"https://esm.sh/@octokit/core";const b=`MarketingProInsider`;const c=`marketingproinsider`;const d=`content/posts/blog_59.md`;const e=`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`;const f=new a({auth:e});const g=new showdown.Converter();$(k).trumbowyg();document.getElementById(`fileForm`).addEventListener(`submit`,j);i()</script>